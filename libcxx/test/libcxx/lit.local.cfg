# The tests in this directory need to run Python
import pipes, sys
config.substitutions.append(("%{python}", pipes.quote(sys.executable)))

# Several tests in this directory require additional information about libc++ headers
# to generate tests.
import base64, lit.util, pickle
import libcxx.test.header_information
base64Encode = lambda s: lit.util.to_string(base64.b64encode(lit.util.to_bytes(s)))
escapedVariables = base64Encode(pickle.dumps(libcxx.test.header_information.variables))
config.substitutions.append(('%{header-variables}', escapedVariables))
